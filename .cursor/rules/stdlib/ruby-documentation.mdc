<rule>
name: ruby-documentation
scope: '*.rb'
description: |
  Recommend best practices for documenting Ruby code, including comments, YARD doc usage, and documenting public APIs.

recommendations:
  - Use YARD-style comments (`# @param`, `# @return`, etc.) for documenting methods and classes.
  - Document all public methods and classes/modules.
  - Write clear, concise comments explaining non-obvious code.
  - Avoid redundant comments that restate the code.
  - Update documentation when code changes.
  - Use RDoc or YARD to generate API documentation.

examples:
  - input: |
      # @param name [String] the name to greet
      # @return [String] the greeting message
      def greet(name)
        "Hello, #{name}!"
      end
    output: "Correct YARD documentation."
  - input: |
      # Greets the user
      def greet(name)
        "Hello, #{name}!"
      end
    output: "Insufficient documentation: missing parameter and return type."

metadata:
  priority: medium
  version: 1.0
</rule>
## Documentation Standards

- Use YARD or RDoc for documenting Ruby code.
- All public classes, modules, and methods must have documentation comments.
- Documentation should include usage examples where appropriate.
- Documentation coverage should be checked in CI for public APIs.
---
## Documentation Coverage in CI

- Documentation coverage should be checked in CI for all public APIs.
- Failing documentation coverage should block merges.
